<style>
      .section-container--{{ section.id }}{
        margin-top: {{ section.settings.margin_top | append:'px' }};
        margin-bottom: {{ section.settings.margin_bottom | append:'px' }};
        padding-top: {{ section.settings.padding_top | append:'px' }};
        padding-bottom: {{ section.settings.padding_bottom | append:'px' }};
        overflow: hidden;
        {% comment %} background: linear-gradient(90deg, #6C1DEA 30%, #9D40EF 100%); {% endcomment %}
        background-color: #650304;
            {% comment %} background-color: #FAF8F5; {% endcomment %}
      {% comment %} background-image: url("//bdraddy.com/cdn/shop/files/3.0.svg?v=1762157412") !important; {% endcomment %}

      {% comment %} background-position: center;
      background-attachment: fixed;

      background-size: 100px 100px; {% endcomment %}
      }


      @media screen and (max-width: 768px){
        .section-container--{{ section.id }}{
          margin-top: {{ section.settings.margin_top_mobile | append:'px' }};
          margin-bottom: {{ section.settings.margin_bottom_mobile | append:'px'  }};
          padding-top: {{ section.settings.padding_top_mobile | append:'px' }};
          padding-bottom: {{ section.settings.padding_bottom_mobile | append:'px' }};
        }

      }


    .section-container--{{ section.id }} {

        color: #000;
        {% comment %} font-family: Poppins; {% endcomment %}
        font-size: 18px;
        font-style: normal;
        font-weight: 600;
        line-height: normal;
        letter-spacing: -0.72px;
        text-transform: uppercase;
        margin: 0;
        @media(max-width: 768px){
          font-size: 16px;
          line-height: normal;
          letter-spacing: -0.64px;
        }





    .section-wrapper--{{ section.id }}{
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        gap: var(--Spacing-Container-xl);
        @media(max-width: 768px){
          {% comment %} flex-direction: column; {% endcomment %}
          gap: var(--Spacing-Container-sm);
        }
    .--text-wrapper {
        font-family: var(--font-family-Title, "Sainte Colombe");
        color: #fff;
    }
      .--title {
        color: inherit;
        font-family: inherit;
        font-size: inherit;
        font-style: inherit;
        font-weight: inherit;
        line-height: inherit;
        letter-spacing: inherit;
        text-transform: inherit;
        margin: 0;
        {% comment %} padding-inline: 12px; {% endcomment %}
        box-sizing: border-box;
         @media(max-width: 768px){
           {% comment %} padding-inline: 5px;
           min-width: fit-content; {% endcomment %}
         }

      }
      .--subtitle {
          font-size: var(--Font-Size-Paragraph-Tiny, 12px);
          line-height: var(--Line-Height-Paragraph-Tiny, 16px);
          text-align: right;
          @media(max-width: 768px){
          text-align: left;
          }
      }
    .--annoucement-button{
          color: inherit;
          font-family: var(--font-family-Title, "Sainte Colombe");
          {% comment %} font-size: inherit; {% endcomment %}
          font-style: inherit;
          font-weight: inherit;
          line-height: inherit;
          letter-spacing: inherit;
          text-transform: inherit;
          margin: 0;
          box-sizing: border-box;
          background: #fff;
          padding: 6px 12px;
         @media(max-width: 768px){
           {% comment %} padding-inline: 5px; {% endcomment %}
           {% comment %} min-width: fit-content; {% endcomment %}
         }

    }

    .timer-container.product-section-timer {
        background: unset;
        gap: 10px;
      @media (max-width: 768px) {
          padding-inline: 0px;
      }
        & .countdown-timer {
          {% comment %} border-right: 1px solid #fff ;
          border-left: 1px solid #fff ; {% endcomment %}
            & .time-unit {
              padding-block: 0px;
              @media(max-width: 768px){
                 padding-inline: 5px;
               }
                .label {
                   {% comment %} display: none; {% endcomment %}
                }
                span.-number{
                   padding-bottom:04px !important;
                }
            }
        }
    }



    }
  {% if section.settings.enable_sticky == true %}
  section.section-container--{{ section.id }}.is-sticky {
      position: fixed;
      top: 100px;
      left: 0;
      width: 100%;
      z-index: 2;
      @media(max-width: 768px){
       top: 80px;
      }
  }
  {% endif %}
}
</style>
<section class="section-container--{{ section.id }}">
  <div class="section-wrapper--{{ section.id }} page-width">
    <div class="--text-wrapper">
      <div class="--title">{{ section.settings.title }}</div>
      <div class="--subtitle">{{ section.settings.subtitle }}</div>
    </div>

    {% if section.settings.enable_countdown == true and settings.rc_showcountdown == true %}
      <div class="--timer">{% render 'mclbx-timer' %}</div>
    {% endif %}
    {% if section.settings.button_label != blank %}
      <a class="--annoucement-button" href="{{ section.settings.url }}">{{ section.settings.button_label }}</a>
    {% endif %}
  </div>
</section>

<script>
  // Define the sticky header function on the window object
  window.stickyAnnouncement = function () {
    const announcement = document.querySelector('.section-container--{{ section.id }}');

    // Add scroll event listener
    window.addEventListener('scroll', () => {
      const topPosition = window.scrollY + 100;
      console.log(
        'window.scrollY',
        window.scrollY,
        'announcement.offsetTop',
        announcement.offsetTop,
        'topPosition',
        topPosition
      );
      if (topPosition > announcement.offsetTop) {
        announcement.classList.add('is-sticky');
      } else {
        announcement.classList.remove('is-sticky');
      }
    });
  };

  // Call the function when DOM content is loaded
  document.addEventListener('DOMContentLoaded', () => {
    window.stickyAnnouncement();
  });
</script>

{% schema %}
{
  "name": "Countdown Bar",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Time is ticking"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Sale Ends in:"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Save 35%"
    },
    {
      "type": "url",
      "id": "url",
      "label": "Url"
    },
    {
      "type": "checkbox",
      "id": "enable_countdown",
      "label": "Enable Countdown",
      "default": true
    },
   

    {
      "type": "header",
      "content": "Desktop Spacing"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Margin Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Margin Bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Padding Top",
      "default": 10
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 10
    },
    {
      "type": "header",
      "content": "Mobile Spacing"
    },
    {
      "type": "range",
      "id": "margin_top_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Margin Top (Mobile)",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Margin Bottom (Mobile)",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Padding Top  (Mobile)",
      "default": 10
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Padding Bottom  (Mobile)",
      "default": 10
    }
  ],

  "presets": [
    {
      "name": "Countdown Bar"
    }
  ]
}
{% endschema %}
